{{- $current := . -}} 
{{- $.Scratch.Set "isPage" true -}}
{{- range .Site.Menus.main -}} 
  {{- if $current.IsMenuCurrent "main" . -}}
  {{- $.Scratch.Set "isPage" false -}}
  {{- end -}}
{{- end -}}
<div id="header" class="container-fluid bg-theme-dark">
  <div class="container">
    <nav class="navbar navbar-expand-md navbar-theme {{ if $.Scratch.Get "isPage" }}navbar-border{{ end }}">
      <a class="navbar-brand px-3" href="{{ .Site.BaseURL }}">M</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        {{ with $.Site.Params.social -}}
        <ul class="navbar-nav flex-row mr-1 ml-auto pt-3 pb-2">
          {{ partial "social.html" . }}
        </ul>
        {{- end }}
        {{ partial "navTop.html" . }}
      </div>
    </nav>
  </div>
  <svg id="ferrisWheelAnimation"  viewBox="0 0 1000 700" version="1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <defs>
      <linearGradient id="line-gradient" x1="0" y1="0" x2="0" y2="-250" gradientUnits="userSpaceOnUse">
        <stop stop-color="#FFEB3B" offset="0%"/>
        <stop stop-color="#F44336" offset="25%"/>
        <stop stop-color="#9C27B0" offset="50%"/>
        <stop stop-color="#4CAF50" offset="75%"/>
        <stop stop-color="#2196F3" offset="100%"/>
      </linearGradient>
    </defs>
    
    <g transform="translate(500 280)">
      <line class="wheel-line" x1="0" y1="0" x2="0" y2="-250" stroke="url(#line-gradient)" stroke-width="2" />

      <circle class="wheel-circle" stroke="#5DE2F9" fill="none" cx="0" cy="0" r="100" ></circle>
      <circle class="wheel-circle" stroke="#5DE2F9" fill="none" cx="0" cy="0" r="175" ></circle>
      <circle class="wheel-circle" stroke="#5DE2F9" fill="none" cx="0" cy="0" r="240" ></circle>
      <circle class="wheel-circle" stroke="#5DE2F9" fill="none" cx="0" cy="0" r="250" stroke-width="4" ></circle>
    </g>
    
    <g transform="translate(395, 280)">
      <path class="wheel-base" stroke="#5DE2F9" stroke-width="6" d="M155 162L105 112 55 162 205 302 105 2 5 302 155 162 105 2 105 302" fill="none" fill-rule="evenodd" stroke-linejoin="bevel" />
    </g>

    <g transform="translate(480, 30)">
      <path class="wheel-cart"  fill="#5DE2F9" d="M20,0 C31.045695,0 40,8.954305 40,20 L40,30 C40,41.045695 31.045695,50 20,50 C8.954305,50 0,41.045695 0,30 L0,20 C0,8.954305 8.954305,0 20,0 Z M37,27 L37,20 C37,10.6111593 29.3888407,3 20,3 C10.6111593,3 3,10.6111593 3,20 L3,27 L37,27 Z" fill="none" fill-rule="evenodd"/>
    </g>
  </svg>
</div>
